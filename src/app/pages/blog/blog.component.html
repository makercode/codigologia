<div class="page">
    <div class="container">
        <div class="blog">
            <mat-card class="outline" appearance="outlined" *ngFor="let post of posts$">
                <mat-card-header>
                    <mat-card-title class="linkable" [routerLink]="['/blog/articulo', post.slug]">
                        {{ post.title }}
                    </mat-card-title>
                    <mat-card-subtitle>
                        <span class="author">
                            {{ post.author }}
                        </span>
                    </mat-card-subtitle>
                </mat-card-header>
                
                <div class="svg-image">
                    <svg mat-card-image 
                        viewBox="-150 -110 300 226" 
                        width="300"
                        (mousemove)="onMouseMove($event)"
                        (mouseleave)="onMouseLeave($event)"
                        [routerLink]="['/blog/articulo', post.slug]" > 

                        <defs>
                            <clipPath id="clip-{{post.slug}}">
                                <!-- Círculo que se moverá con el mouse -->
                                <circle id="c" r="120" class="movingCircle" [attr.cx]="circleX" [attr.cy]="circleY" />
                            </clipPath>
                        </defs>
                        <!-- Imagen con clip-path aplicado -->
                        <image 
                            [attr.clip-path]="'url(#clip-'+post.slug+')'"
                            [attr.xlink:href]="post.image" 
                            x="-150" y="-110" 
                            width="300" height="226">
                        </image>

                    </svg>
                </div>
                
                <mat-card-content>
                    <p>{{ post.extract }}</p>
                </mat-card-content>
                
                <mat-card-actions>
                    <mat-chip-listbox>
                        <mat-chip *ngFor="let tag of post.tags">{{tag}}</mat-chip>
                    </mat-chip-listbox>
                </mat-card-actions>
            </mat-card>
                
        </div>   
    </div>
</div>